@model MenStyle.Web.Models.ViewModels.HomeViewModel
@{
    ViewData["Title"] = "Home";
    Layout = "_Layout";
}

<!-- ── Hero ─────────────────────────────── -->
<section class="hero">
    <div class="hero-grid-bg"></div>
    <div class="container">
        <div class="row align-items-center g-5">
            <div class="col-lg-6 hero-content animate-fade-up">
                <div class="hero-subtitle">
                    New Collection 2026
                </div>
                <h1 class="hero-title">
                    Dress Like<br>a <em>Gentleman</em>
                </h1>
                <p class="hero-desc">
                    Discover our curated collection of premium men's fashion. 
                    From tailored suits to everyday elegance — built for the modern man.
                </p>
                <div class="d-flex flex-wrap gap-3">
                    <a asp-controller="Shop" asp-action="Index" asp-area="" class="btn-gold">
                        <i class="fas fa-arrow-right"></i> Shop Now
                    </a>
                    <a asp-controller="Shop" asp-action="Index" asp-area="" asp-route-categoryId="3" class="btn-outline-gold">
                        View Suits
                    </a>
                </div>
            </div>
            <div class="col-lg-6 hero-image-area animate-fade-in">
                <div class="hero-image-frame">
                    <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800&q=80" alt="Premium Men's Fashion" />
                </div>
                <div class="hero-stat-card top-right">
                    <div class="stat-number">500+</div>
                    <div class="stat-label">Premium Items</div>
                </div>
                <div class="hero-stat-card bottom-left">
                    <div class="stat-number">10K+</div>
                    <div class="stat-label">Happy Customers</div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ── Categories ────────────────────────── -->
<section class="py-5" style="border-bottom: 1px solid var(--border-dark);">
    <div class="container">
        <div class="text-center mb-5">
            <div class="section-subtitle">Browse by Category</div>
            <h2 class="section-title">Shop Our Collections</h2>
            <div class="section-divider mx-auto"></div>
        </div>
        <div class="row g-3">
            @{
                var categoryIcons = new Dictionary<string, string> {
                    {"Shirts", "👔"}, {"Trousers", "👖"}, {"Suits", "🤵"}, {"Jackets", "🧥"}, {"Accessories", "👔"}
                };
                var categoryColors = new[] { "#1a1a2e", "#16213e", "#0f3460", "#1b2838", "#232d3f" };
                int cIdx = 0;
            }
            @foreach (var category in Model.Categories)
            {
                var emoji = categoryIcons.ContainsKey(category.Name) ? categoryIcons[category.Name] : "🛍";
                var bgColor = categoryColors[cIdx % categoryColors.Length];
                cIdx++;
                <div class="col-6 col-md-4 col-lg-2">
                    <a asp-controller="Shop" asp-action="Index" asp-route-categoryId="@category.Id" asp-area="" class="text-decoration-none">
                        <div class="category-card">
                            <div class="category-card-bg" style="background: linear-gradient(135deg, @bgColor, var(--dark-3));">
                                <div class="category-emoji">@emoji</div>
                            </div>
                            <div class="category-card-overlay">
                                <div class="category-name">@category.Name</div>
                                <div class="category-count">@(category.Products.Count) items</div>
                            </div>
                        </div>
                    </a>
                </div>
            }
        </div>
    </div>
</section>

<!-- ── Featured Products ──────────────────── -->
<section class="py-5" style="background: var(--dark);">
    <div class="container">
        <div class="d-flex align-items-end justify-content-between mb-5">
            <div>
                <div class="section-subtitle">Top Picks</div>
                <h2 class="section-title">Featured Products</h2>
                <div class="section-divider"></div>
            </div>
            <a asp-controller="Shop" asp-action="Index" asp-area="" class="btn-outline-gold d-none d-md-inline-flex">
                View All <i class="fas fa-arrow-right ms-1"></i>
            </a>
        </div>

        <div class="row g-3">
            @foreach (var product in Model.FeaturedProducts)
            {
                <div class="col-6 col-md-4 col-xl-3">
                    <div class="product-card">
                        <div class="product-img-wrap">
                            <img src="@product.ImageUrl" alt="@product.Name" loading="lazy"
                                 onerror="this.src='https://via.placeholder.com/400x500/1E1E1E/C9A84C?text=MenStyle'" />
                            <div class="product-badge">Featured</div>
                            <div class="product-actions-overlay">
                                <a asp-controller="Shop" asp-action="Details" asp-route-id="@product.Id" asp-area="" class="btn-dark flex-fill" style="justify-content: center; font-size: 0.75rem;">
                                    <i class="fas fa-eye me-1"></i> View
                                </a>
                                @if (User.Identity?.IsAuthenticated == true)
                                {
                                    <form asp-controller="Cart" asp-action="Add" asp-area="" method="post">
                                        @Html.AntiForgeryToken()
                                        <input type="hidden" name="productId" value="@product.Id" />
                                        <button type="submit" class="btn-gold" style="font-size: 0.75rem; white-space: nowrap;">
                                            <i class="fas fa-bag-shopping"></i>
                                        </button>
                                    </form>
                                }
                            </div>
                        </div>
                        <div class="product-info">
                            <div class="product-category">@product.Category?.Name</div>
                            <div class="product-name">@product.Name</div>
                            <div class="product-price">$@product.Price.ToString("0.00")</div>
                        </div>
                    </div>
                </div>
            }
        </div>

        <div class="text-center mt-4 d-md-none">
            <a asp-controller="Shop" asp-action="Index" asp-area="" class="btn-outline-gold">View All Products</a>
        </div>
    </div>
</section>

<!-- ── Why Choose Us ─────────────────── -->
<section class="py-5" style="background: var(--dark-2); border-top: 1px solid var(--border-dark);">
    <div class="container">
        <div class="row g-4 text-center">
            <div class="col-md-3 col-6">
                <div class="mb-3" style="font-size: 2rem; color: var(--gold);"><i class="fas fa-gem"></i></div>
                <h5 style="font-family: 'Playfair Display', serif; font-size: 1rem; color: var(--white);">Premium Quality</h5>
                <p style="font-size: 0.8rem; color: var(--gray);">Finest fabrics from world-renowned mills</p>
            </div>
            <div class="col-md-3 col-6">
                <div class="mb-3" style="font-size: 2rem; color: var(--gold);"><i class="fas fa-truck-fast"></i></div>
                <h5 style="font-family: 'Playfair Display', serif; font-size: 1rem; color: var(--white);">Fast Shipping</h5>
                <p style="font-size: 0.8rem; color: var(--gray);">Free delivery on orders over $100</p>
            </div>
            <div class="col-md-3 col-6">
                <div class="mb-3" style="font-size: 2rem; color: var(--gold);"><i class="fas fa-rotate-left"></i></div>
                <h5 style="font-family: 'Playfair Display', serif; font-size: 1rem; color: var(--white);">Easy Returns</h5>
                <p style="font-size: 0.8rem; color: var(--gray);">30-day hassle-free return policy</p>
            </div>
            <div class="col-md-3 col-6">
                <div class="mb-3" style="font-size: 2rem; color: var(--gold);"><i class="fas fa-lock"></i></div>
                <h5 style="font-family: 'Playfair Display', serif; font-size: 1rem; color: var(--white);">Secure Checkout</h5>
                <p style="font-size: 0.8rem; color: var(--gray);">256-bit SSL encryption on all orders</p>
            </div>
        </div>
    </div>
</section>
